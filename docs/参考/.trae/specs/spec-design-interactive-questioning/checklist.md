# Spec 设计阶段交互式提问机制检查清单

## Spec 模式执行流程更新

- [x] AGENT_SOP.md 已添加 Spec 模式交互式提问说明
- [x] user_guide.md 已更新 Spec 驱动开发章节
- [x] spec_design_questioning.md 已创建

## 冲突检测规则文档

- [x] conflict_detection_rules.md 已创建
- [x] ADR 冲突检测逻辑已定义
- [x] 设计文档冲突检测逻辑已定义
- [x] 约束矩阵冲突检测逻辑已定义

## ADR 模板和流程更新

- [x] adr.md 模板已更新，包含决策变更记录章节
- [x] ADR 更新流程说明已创建

## 提问角度检查清单

- [x] questioning_checklist.md 已创建
- [x] 架构一致性检查项已定义
- [x] ADR 合规性检查项已定义
- [x] 性能影响检查项已定义
- [x] 安全风险检查项已定义
- [x] 可维护性检查项已定义
- [x] 兼容性检查项已定义

## 约束矩阵更新

- [x] constraint_matrix.md 已添加 Spec 模式交互式提问相关约束
- [x] 新约束与现有约束一致

## 流程验证

- [x] 实时检测机制可执行（章节级检测）
- [x] 即时提问机制可执行（结构化选项）
- [x] 冲突优先级处理可执行（按影响范围）
- [x] ADR 确认更新机制可执行（确认后更新）
- [x] 决策分级记录可执行（重要决策→ADR，一般决策→spec.md）
- [x] 混合模式提问可执行（无冲突时确认性提问）

## 最终验证

- [x] 所有文档版本一致（v2.5.0）
- [x] 文档内容与现有 SOP 体系一致
- [x] 与约束矩阵无冲突
- [x] 与 ADR 模板兼容
