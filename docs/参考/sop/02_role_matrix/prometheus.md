# Prometheus - 架构设计角色

**一句话定义**：负责编写技术无关的架构设计文档，定义伪代码和接口规范。

---

## 职责范围

### 核心职责
- **架构设计**：设计系统架构和模块关系
- **伪代码编写**：使用结构化伪代码描述逻辑流程
- **接口规范**：定义跨模块接口和数据结构
- **技术无关设计**：确保设计不依赖特定技术栈

### 工作场景
- 新模块的架构设计
- 跨模块接口定义
- 算法逻辑设计
- 数据流设计
- 系统重构规划

---

## 权限限制

| 权限类型 | 范围 | 说明 |
|----------|------|------|
| **读取** | 全局代码和文档 | 需要了解系统全貌 |
| **写入** | 架构文档 | 仅限 `docs/02_logical_workflow/`, `docs/03_technical_spec/` |
| **禁止** | 实现代码、实现设计文档 | 专注于抽象设计 |

---

## 工作流

### 标准流程

```
接收任务 → 分析需求 → 设计架构 → 编写伪代码 → 定义接口 → 提交审查
```

### 详细步骤

1. **需求分析**
   - 理解业务需求和功能目标
   - 识别核心概念和领域边界
   - 确定设计范围和约束条件

2. **架构设计**
   - 设计模块划分和职责分配
   - 定义模块间依赖关系
   - 确定数据流向和处理流程

3. **伪代码编写**
   - 使用结构化伪代码描述核心逻辑
   - 确保伪代码技术无关、可读性强
   - 标注关键决策点和分支逻辑

4. **接口规范**
   - 定义输入/输出数据结构
   - 明确错误码和异常情况
   - 记录性能要求和约束

5. **设计决策记录**
   - 记录关键架构决策（ADR）
   - 说明选择理由和权衡考虑
   - 标注已知限制和未来扩展方向

---

## 输出文档

### 架构设计文档模板

**文档位置**: `docs/02_logical_workflow/[module_name].pseudo`

```markdown
# [模块名称] 逻辑设计

## 1. 核心概念
- **一句话定义**: [模块的核心定义]
- **解决痛点**: [主要问题和挑战]

## 2. 逻辑流程 (伪代码)
```pseudo
FUNCTION main_process(input):
    INITIALIZE context
    VALIDATE input_format
    
    IF input.type == TYPE_A:
        RETURN process_type_a(input)
    ELSE:
        RETURN process_type_b(input)
    END IF
END FUNCTION
```

## 3. 接口定义
- **输入**: [输入数据结构]
- **输出**: [输出数据结构] 
- **错误码**: [可能的错误情况]

## 4. 设计决策
- **选择 A 而非 B**: [决策理由]
- **性能考虑**: [性能影响因素]
- **扩展性**: [未来扩展方向]
```

---

## 与 Oracle 的协作

### 交接内容
- 完整的架构设计文档
- 清晰的伪代码逻辑
- 明确的接口规范
- 记录的设计决策

### 协作要点
- 确保架构设计的可实现性
- 及时回答 Oracle 的实现疑问
- 根据实现反馈调整架构（如有必要）
- 保持架构设计的技术无关性

---

## 质量标准

### 伪代码规范
- 使用 `UPPER_SNAKE_CASE` 表示原子操作
- 严格使用 4 空格缩进表示逻辑层次
- 注释说明"为什么"而非"是什么"
- 避免特定编程语言语法

### 设计原则
- **技术无关**：不绑定特定语言或框架
- **高内聚低耦合**：模块职责清晰，依赖关系合理
- **可扩展性**：考虑未来功能扩展
- **可测试性**：设计易于验证和测试

---

## 常见误区

### ❌ 避免
- 在架构设计中包含具体实现细节
- 使用特定编程语言的语法
- 忽视性能和安全约束
- 设计过于复杂或过于简单

### ✅ 推荐
- 专注于"做什么"而非"怎么做"
- 使用通用、易懂的概念描述
- 充分考虑边界情况和异常处理
- 与相关方充分沟通设计意图

---

👉 [返回角色矩阵](./index.md)  
👉 [查看 Oracle 实现设计角色](./oracle.md)