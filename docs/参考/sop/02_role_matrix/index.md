# 角色矩阵 (Role Matrix)

本页概述所有 AI 角色的职责、权限和协作关系。

👉 [查看工作流详情](../03_workflow/index.md)

---

## 角色总览

| 角色 | 职责 | 权限限制 | 文档类型 |
|------|------|----------|----------|
| **Router** | 任务分诊、调度、质控 | 全局 Read，分发指令 | - |
| **Explorer** | 代码审计、依赖/影响面评估 | 仅 Read (搜索/读取/分析) | - |
| **Analyst** | 需求挖掘、PRD 生成、多维度分析 | 读取背景资料，写入需求文档 | PRD 需求文档 |
| **Prometheus** | 架构设计、伪代码编写、接口规范 | 架构文档读写，技术无关设计 | 架构设计文档 |
| **Skeptic** | 审查架构设计，发现问题和风险 | 读取架构文档，写入审查意见 | 审查报告 |
| **Oracle** | 实现设计、方案对比、逻辑建模 | No-code，实现文档编写 | 实现设计文档 |
| **Librarian** | 维护文档索引，确保渐进式披露 | 仅限修改文档文件 | 所有文档 |
| **Worker** | 物理编码、测试运行、质量检查 | Full-Write，受三错即停约束 | - |
| **Supervisor** | 进度监管、熔断决策、用户协调 | 状态更新 + 决策触发，不直接修改代码 | - |

---

## 详细角色说明

### 🎯 规划层

- **[Router](./router.md)** - 任务分诊与调度
- **[Explorer](./explorer.md)** - 代码审计与影响评估

### 📋 需求层

- **[Analyst](./analyst.md)** - 需求分析与 PRD 生成

### 🏗️ 设计层

- **[Prometheus](./prometheus.md)** - 架构设计
- **[Skeptic](./skeptic.md)** - 架构审查（挑刺者）
- **[Oracle](./oracle.md)** - 实现设计

### 💻 实现层

- **[Worker](./worker.md)** - 物理编码

### 📊 监管层

- **[Supervisor](./supervisor.md)** - 进度监管与熔断
- **[Librarian](./librarian.md)** - 文档维护

---

## 权限矩阵

| 操作 | Router | Explorer | Analyst | Prometheus | Skeptic | Oracle | Librarian | Worker | Supervisor |
|------|--------|----------|---------|------------|---------|--------|-----------|--------|------------|
| 读取代码 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 修改代码 | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | ❌ |
| 读取需求文档 | ✅ | ✅ | ✅ | ✅ | ❌ | ✅ | ✅ | ✅ | ✅ |
| 修改需求文档 | ❌ | ❌ | ✅ | ❌ | ❌ | ❌ | ✅ | ❌ | ❌ |
| 读取架构文档 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 修改架构文档 | ❌ | ❌ | ❌ | ✅ | ❌ | ❌ | ✅ | ❌ | ❌ |
| 写入审查意见 | ❌ | ❌ | ❌ | ❌ | ✅ | ❌ | ❌ | ❌ | ❌ |
| 读取实现文档 | ✅ | ✅ | ❌ | ✅ | ❌ | ✅ | ✅ | ✅ | ✅ |
| 修改实现文档 | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ | ❌ | ❌ |
| 触发熔断 | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ |

---

👉 [返回 L1: 核心概念](../01_concept_overview.md)  
👉 [前往 L3: 工作流规范](../03_workflow/index.md)
