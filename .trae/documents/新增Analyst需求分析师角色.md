## 目标
创建一个名为 **Analyst（需求分析师）** 的新角色，负责通过与用户对话交流生成需求文档，并对需求进行多维度分析。

## 角色定义

### Analyst - 需求分析师
**一句话定义**：通过与用户对话挖掘需求，生成结构化的需求文档，并从多维度进行需求分析。

**职责**：
- **需求挖掘**：通过对话引导用户明确需求
- **需求文档生成**：将对话内容转化为结构化的需求文档
- **多维度分析**：从业务、技术、用户、风险等维度分析需求
- **需求验证**：与用户确认需求理解是否准确

**权限**：
- 读取：现有需求文档、相关背景资料
- 写入：需求文档（PRD）、需求分析报告
- 禁止：设计文档、代码实现

## 需求分析维度

Analyst 需要从以下维度分析需求：

1. **业务维度**
   - 业务目标和价值
   - 业务流程和规则
   - 业务约束和假设

2. **用户维度**
   - 目标用户画像
   - 用户使用场景
   - 用户痛点和期望

3. **功能维度**
   - 功能范围（包含/不包含）
   - 功能优先级
   - 功能依赖关系

4. **技术维度**
   - 技术可行性
   - 技术约束
   - 与现有系统的集成

5. **风险维度**
   - 需求不确定性
   - 技术风险
   - 业务风险

6. **验收维度**
   - 验收标准
   - 成功指标
   - 测试要点

## 工作流程

```
用户提出想法/问题
        ↓
Analyst 对话挖掘需求
        ↓
生成需求文档（PRD）
        ↓
多维度需求分析
        ↓
用户确认需求
        ↓
进入设计阶段（Prometheus）
```

## 实施步骤

1. **创建 Analyst 角色文档**
   - 在 `02_role_matrix/analyst.md` 创建角色定义
   - 更新 `02_role_matrix/index.md` 添加新角色

2. **创建需求文档模板**
   - 在 `04_reference/document_templates/prd.md` 创建 PRD 模板
   - 包含需求描述、多维度分析、验收标准等

3. **更新工作流**
   - 修改 `03_workflow/deep_path.md`
   - 在 Prometheus 之前增加 Analyst 需求分析阶段
   - 更新快速路径（如需要）

4. **更新入口文件**
   - 更新 `AGENT_SOP.md` 添加 Analyst 角色和 PRD 文档类型

5. **更新人类阅读版**
   - 更新 `sop_for_human.md` 添加 Analyst 相关内容

## 新增文件列表

1. `02_role_matrix/analyst.md` - 新角色定义
2. `04_reference/document_templates/prd.md` - PRD 需求文档模板

## 更新文件列表

1. `02_role_matrix/index.md` - 更新角色矩阵
2. `03_workflow/deep_path.md` - 更新工作流
3. `AGENT_SOP.md` - 更新入口文件
4. `sop_for_human.md` - 更新人类阅读版

## 新的完整工作流

```
新项目/大重构：
Analyst → Prometheus ↔ Skeptic → Oracle → Worker → Librarian
  需求    架构设计   架构审查   实现设计   编码实现   文档维护

功能迭代：
Analyst → Oracle → Worker → Librarian
  需求    实现设计   编码实现   文档维护
```