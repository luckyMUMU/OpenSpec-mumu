## 目标
- 在 [sop_GUIDE.md](file:///d:/code/AI/openspec-mumu/docs/%E5%8F%82%E8%80%83/sop_GUIDE.md) 中补齐“Skill 创建与更新”规则，新增三条准则：SKILL.md 只写做事骨架；长知识落 references/；重复动作固化为 scripts/。
- 同步更新该文档内与 Skill 相关的检查清单，使审查时可直接勾选验证。

## 拟新增规则（落在 3.6 节，作为 3.6.1~3.6.3）
### 3.6.1 SKILL.md 只写“做事骨架”
- 必须只包含可执行的骨架信息，不承载长背景、长解释、长示例。
- 必须包含（固定小标题、必含字段）：
  - 触发条件：仅当用户输入命中哪些关键词/信号时启用（可列关键词与排除项）。
  - 输入：最少字段集合（必填/可选）。
  - 步骤顺序：Step 1/2/3…（命令式，能映射到命令字典则必须映射）。
  - 输出格式：固定输出小标题与字段（用于落盘/供下游复用）。
  - 质量门槛：明确“完成”判定；当信息不足/存在冲突时必须标注“待确认”，并触发对应停止点。
- 允许保留 YAML frontmatter（至少 name、description；若由生成器生成可包含 metadata 等），但正文仍必须遵循“骨架”原则。

### 3.6.2 把“长知识”放进 references/
- 必须把以下内容从 SKILL.md 正文剥离，改为引用式按需加载：规范文档、示例输出、模板、术语表、FAQ、长篇最佳实践。
- 目录映射（为避免与现有结构冲突，文档中会明确三类落点）：
  - SOP 通用标准/模板：放在 `docs/参考/sop/04_reference/`（现有目录）。
  - 项目运行期知识/RAG 资料：放在 `docs/04_context_reference/rag/**/references/`（与现有 knowledge_management 规范一致）。
  - Skill 私有参考：可选放在 `docs/参考/sop/skills/<skill>/references/`，SKILL.md 必须引用相对路径。

### 3.6.3 重复动作做成 scripts/
- 当某操作“每次都差不多且需要稳定复用”（如：套模板、批量改名、格式化报表、生成标准化输出），必须优先沉淀为脚本而非在对话里反复生成。
- 脚本落点规则：
  - Skill 私有脚本：`docs/参考/sop/skills/<skill>/scripts/`。
  - 跨 Skill/仓库维护通用脚本：仓库根 `scripts/`（并补充 README 条目）。
- SKILL.md 中必须通过步骤引用脚本（输入/输出约定清晰），禁止把脚本全文粘进 SKILL.md。

## 文档内同步调整点
- 更新 3.6 “Skill合规性审查”检查清单：新增勾选项覆盖“骨架化/引用 references/ /脚本化 scripts/ /完成与待确认门槛”。
- 更新 6.4 “Skill文件（sop/skills/*/SKILL.md）”审查检查表：同样新增对应条目，确保审查闭环。
- 微调 1.5 版本更新流程中“更新Skill文件版本号”的表述：强调 Skill 的主/次版本必须与 SOP 对齐、修订可独立递增（与 1.3 的规则一致）。

## 版本处理策略
- 作为“新增更明确的写作与沉淀准则”，我会把 sop_GUIDE.md 的版本修订号 +1（例如 v1.5.0 → v1.5.1），不触发全局主/次版本联动；若你希望严格按语义化把它视为“新增约束/新增规范”，可改为全局次版本 +1（需要同步更新 SOP 核心文档与 CHANGELOG）。

## 验证方式（修改后自检）
- 在 sop_GUIDE.md 中自查：新增小节是否使用命令式表达（仅当/必须/禁止/否则），且检查清单可直接用于审查。
- 抽样对照 1-2 个现有 Skill（例如 sop-workflow-orchestrator）：确认新规则不会与现有 frontmatter/SSOT 引用规范冲突（允许后续渐进迁移）。

## 可选后续（不在本次必做）
- 渐进迁移现有 `sop/skills/*/SKILL.md`：把长解释/长示例移入各 Skill 的 references/，把重复操作抽成 scripts/，SKILL.md 仅保留骨架与引用。