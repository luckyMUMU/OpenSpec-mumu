## 目标
将 `sop/` 目录的最新内容同步到 `sop_for_human.md`，保持人类阅读版的时效性。

## 需要添加的内容

### 1. 角色更新（第2章）
添加两个新角色到角色分工表：

| 角色 | 层级 | 职责 | 权限 | 产出物 |
|------|------|------|------|--------|
| **Tester** | 设计 | CSV测试用例唯一维护者 | 读写CSV | CSV测试用例 |
| **TestWorker** | 实现 | 测试代码维护者 | 只读CSV，读写测试代码 | 测试代码 |

### 2. 工作模式更新（第3章）
添加TDD深度路径说明：

**TDD深度路径**（可选）：
```
Analyst → Prometheus ↔ Skeptic → Oracle → Tester → Worker + TestWorker → Librarian
                                    ↓
                              生成CSV测试用例
```

**启用条件**：核心业务/复杂逻辑/高测试覆盖要求

### 3. 停止点更新（第5章）
添加新的停止点：

| 节点 | 停止点标记 | 确认内容 |
|------|-----------|----------|
| Tester完成后 | `[WAITING_FOR_TEST_REVIEW]` | 测试用例是否完整覆盖？ |

### 4. 文档分工更新（第6章）
添加新的文档类型：

**测试用例文档（Tester写）**：
- **位置**：`docs/03_technical_spec/test_cases/`
- **内容**：CSV格式测试用例，便于人工审核
- **特点**：仅基于设计文档，不参考代码实现

**原型设计文档（Analyst写，UI项目）**：
- **位置**：`docs/01_requirements/prototypes/`
- **内容**：线框图、高保真原型、交互说明
- **特点**：仅UI项目需要

### 5. 需求分层说明（新增章节或并入现有章节）
添加需求分层结构：

| 层级 | 文档 | 内容 | 触发条件 |
|------|------|------|----------|
| L1 | Project PRD | 项目愿景、模块清单 | 新项目 |
| L2 | Module MRD | 模块功能、边界 | 新模块 |
| L3 | Feature FRD | 功能详情、交互 | 新功能 |
| L3 | Prototype | 界面原型 | UI项目 |

### 6. 权限隔离说明（新增章节或并入角色章节）
添加测试文件权限说明：

| 文件 | Tester | TestWorker |
|------|--------|------------|
| CSV测试用例 | **读写（唯一）** | **只读** |
| 测试代码 | 只读 | **读写（唯一）** |

### 7. 快速参考更新（第11章）
更新场景速查和停止点速查表。

## 具体修改文件

| 章节 | 修改内容 |
|------|----------|
| 2.1 规划层 | 确认Router职责包含TDD路径判断 |
| 2.3 设计层 | 添加Tester角色说明 |
| 2.4 实现层 | 添加TestWorker角色说明 |
| 2.6 角色关系图 | 更新为包含Tester和TestWorker |
| 3.2 深度模式 | 添加TDD深度路径说明 |
| 5 关键决策点 | 添加`[WAITING_FOR_TEST_REVIEW]`停止点 |
| 6 文档分工 | 添加测试用例文档和原型设计文档 |
| 新增 | 需求分层说明 |
| 新增 | 测试权限隔离说明 |
| 11 快速参考 | 更新速查表 |