## 目标
确保测试文档和代码的独立性，只允许指定角色更新。

## 当前问题
1. TestWorker 目前可以更新CSV状态（从"待实现"到"已实现"）
2. 测试用例和测试代码的权限边界不够清晰
3. 缺乏测试用例变更的流程

## 调整方案

### 1. 文件权限重新定义

| 文件/目录 | 角色 | 权限 | 说明 |
|-----------|------|------|------|
| `docs/03_technical_spec/test_cases/*.csv` | Tester | **读写** | 测试用例唯一维护者 |
| `docs/03_technical_spec/test_cases/*.csv` | TestWorker | **只读** | 仅读取，不修改 |
| `tests/*.test.[ext]` | TestWorker | **读写** | 测试代码唯一维护者 |
| `tests/*.test.[ext]` | Worker | **只读** | 了解测试，不修改 |

### 2. 更新 Tester Prompt

- 明确 Tester 是测试用例的唯一维护者
- 添加测试用例版本管理
- 添加测试用例变更流程

### 3. 更新 TestWorker Prompt

- 移除更新CSV状态的权限
- 明确只读CSV
- 添加测试代码与CSV的同步检查

### 4. 更新 02_role_matrix/index.md

- 更新权限矩阵，明确测试文件权限

### 5. 新增测试用例变更流程

当测试用例需要变更时：
```
变更请求 → Tester评估 → 更新CSV → 通知TestWorker同步
```

### 6. 测试独立性原则

- **测试用例独立**: 不依赖代码实现，只依赖设计文档
- **测试代码独立**: 只依赖测试用例，不反向影响用例
- **角色独立**: Tester和TestWorker职责分离，不交叉

## 具体修改文件

| 文件 | 操作 | 说明 |
|------|------|------|
| `prompts/tester_prompt.md` | 更新 | 明确唯一维护者权限，添加变更流程 |
| `prompts/test_worker_prompt.md` | 更新 | 移除CSV更新权限，明确只读 |
| `02_role_matrix/index.md` | 更新 | 更新权限矩阵 |
| `skills/sop-tdd-workflow/SKILL.md` | 更新 | 添加测试用例变更流程 |