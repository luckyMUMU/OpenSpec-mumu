## 先给出的结论（基于只读核对）
- `sop_GUIDE.md` 本身**没有出现**你要求引用的“缺陷等级表”正文（文件末尾即结束），但它在交付物规范里已经使用了 🔴🟠🟡🟢 分级（`02_issue_list.md`）。因此审查会采用该 4 级分级作为临时“缺陷等级表”等价物，并在报告中把映射规则写清楚。
- 你要求的归档目录是 `docs/参考/sop/Review/YYYYMMDD/`；而现有体系与 `sop_GUIDE.md` 交付物示例使用的是 `docs/参考/sop/reviews/YYYY-MM-DD_<topic>/`。这属于“标准冲突”，审查会按你的要求落到 `Review/YYYYMMDD/`，同时在报告中记录差异并提供索引互链，避免证据不可发现。

## 审查范围与方法（覆盖 1-8 条要求）
### 1) 全量清单与抽样比例
- 抽样比例：**100%**（对 `docs/参考/sop/**` 的所有文件与子目录做扫描；对内容一致性做规则化检查 + 重点文件人工核对摘要）。
- 生成资产清单（含路径、大小、扩展名、目录深度、编码检测结果），作为证据表。

### 2) 命名与版本（对应你的 1）
- 依据 `sop_GUIDE.md` 的版本规则（主/次对齐 CHANGELOG、修订可差异化）：
  - 解析 `sop/CHANGELOG.md` 得到基线主/次版本。
  - 校验 `sop/**.md` 与 `sop/skills/**/SKILL.md` 的主/次版本一致。
  - 校验 prompts pack 与索引类文档的 `version/updated` 元信息存在且格式正确。
- 命名规范：`sop_GUIDE.md` 未给出具体文件名正则，将采用“现有 SOP 实际约定”做静态约束（仅允许 a-z0-9_-. 与中文目录名已存在部分；禁止空格与异常字符），并把“GUIDE 缺失命名规范”本身计为 🟡 缺陷（标准不完整导致不可验证）。

### 3) 章节结构/角色职责/IO/流程图/风险点（对应你的 2）
- `sop_GUIDE.md` 是“审查指南”，并未提供每类 SOP 文档的统一模板；因此采用以下映射为“模板一致性基准”：
  - Skill 合约：以 `skills/*/SKILL.md` 的固定段落集合（触发条件/Input/Steps/Output/Stop Points/Constraints/Failure Handling）为模板。
  - Prompt Pack：以 `04_reference/prompt_pack.standard.md` + `prompts/packs/default/*` 的“偏好层”约束为模板（不得重复 SKILL 合约正文）。
  - Workflow：以 `03_workflow/index.md` 的路径选择/调用链/停止点/三错即停与各子页结构为模板。
  - Reference/Constraints/Standards：以各自文件的 frontmatter + 标题层级稳定性 + SSOT 引用为模板。
- 产出“模板对照表”：每文件列出应有章节、实际章节、缺失/多余项，并按缺陷等级分级。

### 4) 引用/表单/术语同步（对应你的 3）
- 以 `sop_GUIDE.md` 的 SSOT 列表为“必须可达清单”，校验这些引用路径存在且可从索引入口访问。
- 全量解析 markdown 链接：
  - 内部链接必须可达（文件存在）；
  - 状态标记必须在 `05_constraints/state_dictionary.md` 定义；
  - 命令必须在 `05_constraints/command_dictionary.md` 定义（新增命令扫描规则）。
- 输出“引用比对表”（来源文件→引用→目标→结果→修复动作）。

### 5) 目录深度/编码/附件（对应你的 4）
- 目录深度：计算最大深度并与“发布就绪的可维护性阈值”对照（GUIDE 未给数值时，将以现状 + ‘最短可达≤3’ 作为硬门槛，并把超深目录列为 🟡）。
- 编码：对全部文本类文件做 UTF-8 检测（含 BOM/非法字节），输出编码报告。
- 附件命名与存储：对 `.csv/.png/.drawio/.fig/.pdf` 等作为附件类的文件做命名与位置规则检查（规则缺失处按现有结构推断，并在报告中标注“GUIDE 缺失”）。

### 6) 缺陷分级与整改清单（对应你的 5）
- 分级采用 🔴🟠🟡🟢：
  - 🔴：SSOT 漂移、链接不可达、版本主/次不一致、关键停止点/交付物缺失、编码非 UTF-8 导致不可用。
  - 🟠：模板关键章节缺失、Prompt Pack 重复合约、索引不可达导致体系不可发现。
  - 🟡：表达不够命令式、归档路径不一致、GUIDE 缺失导致不可验证项。
  - 🟢：风格/排版/轻微一致性建议。
- 输出“整改清单”：每条包含索引号、位置、证据、修复动作（命令式）、复测点。

### 7) 审查报告与证据归档（对应你的 6-7）
- 新建目录：`docs/参考/sop/Review/YYYYMMDD/`（按你要求），内容包括：
  - `00_scope.md`（方法、范围、抽样比例=100%、基线版本）
  - `01_inventory.csv`（文件/附件清单 + 深度 + 编码检测摘要）
  - `02_template_conformance.csv`（模板对照表）
  - `03_reference_diff.csv`（引用比对表）
  - `04_issues.md`（缺陷清单：🔴🟠🟡🟢 + 整改动作）
  - `05_review_report.md`（审查方法、问题汇总表、整改建议、复测计划、合规性结论）
  - `06_quality_gate.md`（质量门禁：check:sop、链接/深度、编码检查、测试结果）
  - `index.md`（可追溯索引号目录：REV-YYYYMMDD-0001…，指向证据表行/文件）
  - `signoff.md`（签字页占位：审核人/日期/结论）
- 同时在 `docs/参考/sop/reviews/index.md` 增加一条指向 `Review/YYYYMMDD/index.md` 的互链（解决目录命名冲突带来的不可发现）。

### 8) 发布就绪与质量门禁（对应你的 8）
- 定义“发布就绪”硬门槛（从 GUIDE 可直接推导的部分 + 现有质量门禁）：
  - `npm run check:sop` 通过
  - 内部链接可达性检查通过
  - 状态/命令引用均来自字典 SSOT
  - 主/次版本一致性通过
  - UTF-8 编码检查通过
  - 🔴/🟠 缺陷清零（或进入 `[USER_DECISION]` 明确接受例外并在 signoff 中记录）

## 我将要做的实现（你确认后会直接落盘并跑门禁）
- 新增一个“GUIDE 合规审查”脚本（node）：扫描版本/命名/模板章节/引用/编码/附件，并输出 CSV/MD 证据到 `sop/Review/YYYYMMDD/`。
- 根据扫描结果，逐项修复 `docs/参考/sop/**` 内的不一致（优先清理 🔴/🟠）。
- 运行质量门禁并把结果写入 `06_quality_gate.md`。

## 需要你提前知晓的限制（会在报告中明示）
- `sop_GUIDE.md` 未包含“缺陷等级表”与明确的命名/目录深度/附件规范，本次将用体系内已存在的 🔴🟠🟡🟢 分级与现有结构约定来补齐；同时把“标准缺失”本身列为 🟡 缺陷并给出补齐建议。